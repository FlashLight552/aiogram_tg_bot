{% extends 'base.html' %}

{% block custom_link %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
{% endblock custom_link %}

{% block content %}
<div class="gregorian_to_hebrew">
<form class="row gy-1 gx-2 mb-3 align-items-center">
    <div class="form-floating col-auto mb-2">
        <input type="text" class="form-control" name="gd" placeholder="day" size="3" value="{{day}}" maxlength="2" id="gd">
        <label for="gd">Day</label>
    </div>
    <div class="form-floating col-auto mb-2">
        <select name="gm" id="gm" class="form-select">
            <option {% if mounth == 'Nisan' %} selected value="Nisan" {% endif %} value="Nisan">Nisan</option>
            <option {% if mounth == 'Iyyar' %} selected value="Iyyar" {% endif %} value="Iyyar">Iyyar</option>
            <option {% if mounth == 'Sivan' %} selected value="Sivan" {% endif %} value="Sivan">Sivan</option>
            <option {% if mounth == 'Tamuz' %} selected value="Tamuz" {% endif %} value="Tamuz">Tamuz</option>
            <option {% if mounth == 'Av' %} selected value="Av" {% endif %} value="Av">Av</option>
            <option {% if mounth == 'Elul' %} selected value="Elul" {% endif %} value="Elul">Elul</option>
            <option {% if mounth == 'Tishrei' %} selected value="Tishrei" {% endif %} value="Tishrei">Tishrei</option>
            <option {% if mounth == 'Cheshvan' %} selected value="Cheshvan" {% endif %} value="Cheshvan">Cheshvan</option>
            <option {% if mounth == 'Kislev' %} selected value="Kislev" {% endif %} value="Kislev">Kislev</option>
            <option {% if mounth == 'Tevet' %} selected value="Tevet" {% endif %} value="Tevet">Tevet</option>
            <option {% if mounth == "Sh'vat" %} selected value="Sh'vat" {% endif %} value="Sh'vat">Sh'vat</option>
            <option {% if mounth == 'Adar' %} selected value="Adar" {% endif %} value="Adar">Adar</option>
            <option {% if mounth == 'Adar I' %} selected value="Adar I" {% endif %} value="Adar I">Adar I</option>
            <option {% if mounth == 'Adar II' %} selected value="Adar II" {% endif %} value="Adar II">Adar II</option>
        </select>
        <label for="gm">Month</label>
    </div>
    <div class="form-floating col-auto mb-2">
        <input type="text" class="form-control" name="gy" placeholder="year" value="{{year}}" size="5" maxlength="4"  id="gy" pattern="-?\d*">
        <label for="gy">Year</label>
    </div>

    <script src="https://webappcontent.telegram.org/js/jquery.min.js"></script>
    <script>
        let tg = window.Telegram.WebApp;
        tg.MainButton.text = "Convert to Gregorian";
        tg.MainButton.show();
    </script>

    <script>
        Telegram.WebApp.onEvent('mainButtonClicked', function(){
            let date = document.getElementById('gd').value;
            let mounth = document.getElementById('gm').value;
            let year = document.getElementById('gy').value;
            tg.sendData('hebrew-'+date+'-'+mounth+'-'+year); });
    </script>

</form>
</div>

{% endblock content %}