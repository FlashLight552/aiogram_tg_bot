{% extends 'base.html' %}

{% block custom_link %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
{% endblock custom_link %}

{% block content %}
<div class="gregorian_to_hebrew">
<form class="row gy-1 gx-2 mb-3 align-items-center">
    <div class="form-floating col-auto mb-2">
        <input type="text" class="form-control" name="gd" placeholder="day" size="2" value="{{day}}" maxlength="2" id="gd">
        <label for="gd">Day</label>
    </div>
    <div class="form-floating col-auto mb-2">
        <select name="gm" id="gm" class="form-select">
            <option {% if mounth == '01' %} selected value="01" {% endif %} value="01">01 - January</option>
            <option {% if mounth == '02' %} selected value="02" {% endif %} value="02">02 - February</option>
            <option {% if mounth == '03' %} selected value="03" {% endif %} value="03">03 - March</option>
            <option {% if mounth == '04' %} selected value="04" {% endif %} value="04">04 - April</option>
            <option {% if mounth == '05' %} selected value="05" {% endif %} value="05">05 - May</option>
            <option {% if mounth == '06' %} selected value="06" {% endif %} value="06">06 - June</option>
            <option {% if mounth == '07' %} selected value="07" {% endif %} value="07">07 - July</option>
            <option {% if mounth == '08' %} selected value="08" {% endif %} value="08">08 - August</option>
            <option {% if mounth == '09' %} selected value="09" {% endif %} value="09">09 - September</option>
            <option {% if mounth == '10' %} selected value="10" {% endif %} value="10">10 - October</option>
            <option {% if mounth == '11' %} selected value="11" {% endif %} value="11">11 - November</option>
            <option {% if mounth == '12' %} selected value="12" {% endif %} value="12">12 - December</option>
        </select>
        <label for="gm">Month</label>
    </div><!-- .col -->
    <div class="form-floating col-auto mb-2">
        <input type="text" class="form-control" name="gy" placeholder="year" value="{{year}}" size="4" maxlength="4"  id="gy" pattern="-?\d*">
        <label for="gy">Year</label>
    </div><!-- .col -->
    <div class="col-auto mb-2">
        <div class="form-check">
        <input class="form-check-input" type="checkbox" name="gs" id="gs">
        <label class="form-check-label" for="gs">After sunset</label>
        </div><!-- .form-check -->
    </div><!-- .col -->

    <script src="https://webappcontent.telegram.org/js/jquery.min.js"></script>
    <script>
        let tg = window.Telegram.WebApp;
        tg.MainButton.text = "Convert to Hebrew";
        tg.MainButton.show();
    </script>

    <script>
        Telegram.WebApp.onEvent('mainButtonClicked', function(){
            let date = document.getElementById('gd').value;
            let mounth = document.getElementById('gm').value;
            let year = document.getElementById('gy').value;
            let sunset = document.getElementById('gs').checked;
            tg.sendData('gregorian-'+date+'-'+mounth+'-'+year+'-'+sunset); });
    </script>

</form>
</div>

{% endblock content %}